# Visual Studio Builds #

> 一般设置

一般设置 页面含有影响此 Agent 所启动 Visual Studio Builds 的设置：
![](/documents/resource/vs_build_general.png)

## 允许链接步骤在本地并行运行：##

此选项确定是否允许不同项目的链接步骤在 Initiator 机器上并行运行。建议仅在您的系统内存支持多链接步骤的情况下选择该选项。


## 用于并行连接的最大CPU/核心数：##

启用 **允许链接步骤在本地并行运行** 时，输入可用于在某一指定位置并行执行链接步骤的最大 CPU 或内核数。


## 构建所有项目不管有没有错误：##

勾选该选项后，即使某一独立配置执行失败并提示构建错误，XiaoBuild 仍会继续处理构建项目中剩余的配置内容。构建项目时，通过在 Batch Build 对话框选择不同的值可在对应项目中覆盖该选项。新选项将会应用到后续构建项目中。


> 高级设置

高级设置 页面含有影响此 Agent 所启动 Visual Studio Builds 的高级设置：
![](/documents/resource/vs_build_advanced.jpg)


## 使用环境变量而不使用IDE的路径：##

勾选该选项后，XiaoBuild 将使用本地环境变量（INCLUDE、LIB 和 PATH）而不是 IDE 中设置的变量。


## 使用乱序任务生成来提高吞吐量：##

启用该选项（VS2010 或更高版本）可通过指示 XiaoBuild 以经过优化的顺序执行 Visual Studio 任务 （编译、链接、RC 等），从而大幅提升构建效率。通过这种方法执行任务的顺序不一定与 Visual Studio 的执行顺序一致。

XiaoBuild 会尝试增加 Visual Studio 的构建任务吞吐量，从而激发构建性能和 CPU 利用率。应用场景示例：项目 B 依赖于项目 A。通常情况下，Visual Studio 和 XiaoBuild 都会先完成整个 A 项目的编译和链接，然后再处理项目 B。启用“predictive execution”后，XiaoBuild 可能会推断出项目 B 的某些编译任务可以与项目 A 的任务同时执行。


## 将并发 PDB 文件实例限制为 X ##

勾选该选项后，XiaoBuild 将限制同一项目中可并行构建的文件数量。这样只有少数 PDB 会被处理，从而加快链接时间。勾选该选项还能限制构建中的并行任务数量，即特定项目中可并行执行的编译任务数量不能超过设定的值。例如，如果你有两个可并行执行的项目，并且勾选了该选项将并行 PDB 文件实例数量限制为 8。假设每个项目包含 100 个编译任务，最终会执行十六个编译任务 – 项目 A 和项目 B 分别执行八个任务。

建议启用该功能前使用不同的值进行测试。通常而言，项目数量越多，任务可并行处理的可能性也就越大，所以该功能更适用于涉及大量项目的方案。
